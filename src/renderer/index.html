<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gerenciador de Planilhas</title>
    <script defer src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/chartjs-chart-matrix@2"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      integrity="sha384-tViUnnbYAV00FLIhhi3v/dWt3Jxw4gZQcNoSCxCIFNJVCx7/D55/wXsrNIRANwdD"
      crossorigin="anonymous" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="bg-white text-gray-900 h-screen">
    <!-- Tela de carregamento -->
    <div
      class="fixed inset-0 bg-white flex items-center justify-center z-50"
      id="loading">
      <div
        class="animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500 border-solid"></div>
    </div>

    <!-- Container principal ocupando a altura da janela -->
    <div class="h-full flex flex-col hidden" id="container">
      <!-- Barra de navegação -->
      <div
        class="flex justify-between items-center bg-red-600 text-white p-4 rounded-t-lg">
        <h1 class="text-2xl font-bold">Gerenciador de Planilhas</h1>
      </div>

      <!-- Abas -->
      <div
        class="flex flex-wrap justify-start sm:justify-center space-x-4 mt-6 px-4">
        <button
          id="planilhas-tab"
          class="text-lg text-red-600 hover:text-red-800 w-full sm:w-auto py-2 px-4 text-center border-b-2 border-red-600">
          <i class="bi bi-file-earmark-spreadsheet"></i> Gerenciamento
        </button>
        <button
          id="analise-tab"
          class="text-lg text-red-600 hover:text-red-800 w-full sm:w-auto py-2 px-4 text-center">
          <i class="bi bi-bar-chart-line"></i> Análise de Dados
        </button>
        <button
          id="config-tab"
          class="text-lg text-red-600 hover:text-red-800 w-full sm:w-auto py-2 px-4 text-center">
          <i class="bi bi-sliders"></i> Configurações
        </button>
      </div>

      <!-- Conteúdo das Abas (ocupando o espaço restante) -->
      <div class="flex-grow mt-6 overflow-auto px-4 pb-4">
        <!-- Conteúdo da aba Gerenciamento -->
        <div id="planilhas-content" class="mt-6">
          <div class="bg-gray-100 p-4 rounded-lg">
            <h2 class="font-semibold text-xl">Gerenciamento de Planilhas</h2>

            <!-- Área de upload (inicialmente visível) -->
            <div
              id="upload-area"
              class="mt-6 border border-gray-900 rounded-xl shadow-sm p-4">
              <h3 class="text-lg font-semibold text-gray-800 mb-2">
                Envio da planilha
              </h3>
              <label
                for="file-input"
                class="flex flex-col items-center justify-center w-full h-48 p-6 border-2 border-dashed border-gray-400 rounded-xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors">
                <i class="bi bi-upload text-3xl text-gray-500 mb-2"></i>
                <span class="text-gray-500">
                  Clique ou arraste o arquivo aqui
                </span>
                <span class="text-sm text-red-400 mt-1">
                  Somente CSV são suportados
                </span>
                <input type="file" id="file-input" class="hidden" />
              </label>
              <button
                id="load-local-btn"
                class="bg-blue-600 text-white px-4 py-2 rounded-lg mt-4 w-full hover:bg-blue-700">
                <i class="bi bi-upload"></i> Carregar Planilha
              </button>
            </div>

            <button
              id="connect-remote-btn"
              class="bg-green-600 text-white px-4 py-2 rounded-lg mt-4 w-full hover:bg-green-700">
              <i class="bi bi-cloud-arrow-up"></i> Conectar Planilha Remota
            </button>

            <a href="./template.csv" download="template.csv">
              <button
                class="bg-purple-600 text-white px-4 py-2 rounded-lg mt-4 w-full hover:bg-purple-700">
                <i class="bi bi-download"></i> Baixar Modelo
              </button>
            </a>

            <button
              id="remove-btn"
              class="bg-red-600 text-white px-4 py-2 rounded-lg mt-4 w-full hover:bg-red-700">
              <i class="bi bi-trash"></i> Remover Planilha
            </button>

            <button
              id="toggle-upload-btn"
              class="bg-gray-600 text-white px-4 py-2 rounded-lg mt-4 w-full hover:bg-gray-700">
              <i class="bi bi-eye-slash"></i> Ocultar área de contexto para IA
            </button>

            <div
              id="multi-upload-area"
              class="hidden mt-6 border border-gray-900 rounded-xl shadow-sm p-4">
              <h3 class="text-lg font-semibold text-gray-800 mb-2">
                Envio de múltiplos arquivos para Análise com IA
              </h3>
              <label
                for="multi-file-input"
                class="flex flex-col items-center justify-center w-full h-48 p-6 border-2 border-dashed border-gray-400 rounded-xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors">
                <i class="bi bi-upload text-3xl text-gray-500 mb-2"></i>
                <span class="text-gray-500">
                  Clique ou arraste os arquivos aqui
                </span>
                <span class="text-sm text-red-400 mt-1">
                  Arquivos de áudio, video não são suportados
                </span>

                <input
                  type="file"
                  id="multi-file-input"
                  class="hidden"
                  multiple />
              </label>
            </div>
          </div>
        </div>

        <!-- Conteúdo da aba Análise -->
        <div id="analise-content" class="mt-6 hidden">
          <div class="bg-gray-100 p-4 rounded-lg">
            <h2 class="font-semibold text-xl">Análise de Dados</h2>
            <button
              class="bg-yellow-600 text-white px-4 py-2 rounded-lg mt-4 w-full hover:bg-yellow-700">
              <i class="bi bi-pie-chart"></i> Gerar Gráficos
            </button>
            <button
              class="bg-indigo-600 text-white px-4 py-2 rounded-lg mt-4 w-full hover:bg-indigo-700">
              <i class="bi bi-robot"></i> Análise IA
            </button>

            <!-- Abas -->
            <div class="flex border-b">
              <button
                id="pie-tab"
                class="tab-button px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100">
                Pizza
              </button>
              <button
                id="bar-tab"
                class="tab-button px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100">
                Barras
              </button>
              <button
                id="line-tab"
                class="tab-button px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100">
                Linhas
              </button>
            </div>

            <!-- Conteúdo das Abas -->
            <div id="pie" class="tab-content p-4 w-full">
              <canvas id="chart-pie" height="100" class="w-full"></canvas>
              <canvas
                id="chart-pie-single"
                height="100"
                class="w-full"></canvas>
            </div>
            <div id="bar" class="tab-content hidden p-4 w-full">
              <canvas id="chart-bar" height="100" class="w-full"></canvas>
              <canvas
                id="chart-bar-single"
                height="100"
                class="w-full"></canvas>
            </div>
            <div id="line" class="tab-content hidden p-4 w-full">
              <canvas id="chart-line" height="100" class="w-full"></canvas>
              <canvas
                id="chart-line-single"
                height="100"
                class="w-full"></canvas>
            </div>

            <div class="mt-6">
              <canvas id="chart-historical" height="100"></canvas>
            </div>

            <div class="mt-6">
              <canvas id="chart-correlation" height="100"></canvas>
            </div>
          </div>
        </div>

        <!-- Conteúdo da aba Configurações -->
        <div id="config-content" class="mt-6 hidden">
          <div class="bg-gray-100 p-4 rounded-lg">
            <h2 class="font-semibold text-xl">Configurações</h2>

            <button
              id="save-settings-btn"
              class="bg-red-600 text-white px-4 py-2 rounded-lg mt-4 w-full hover:bg-red-700">
              <i class="bi bi-save"></i> Salvar Configurações
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>

  <script src="./scripts.js"></script>
</html>
